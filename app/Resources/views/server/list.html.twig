{% extends "layout.html.twig" %}

{% block title %}Servers Summary{% endblock %}

{% block body %}
<div class="container">
    <br>
    <br>
    <div class="row">
        <div class="col-xs-8 col-md-8 col-lg-8 centered">
            <h1>Servers List</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-8 col-md-8 col-lg-8 left">
            <button type="button" class="btn btn-default"/><span class="glyphicon glyphicon-plus-sign glyphicon-align-left"></span><a href="/server/add"> Add</a></button>
        </div>
    </div>    
    <div class="row spacer">
        <br>        
    </div>    
    <div class="row">
        <div class="col-lg-12 centered">
            <table class="table table-bordered">
             <thead>
                <tr>
                  <th>Name</th>
                  <th>OS</th>
                  <th>I.P. address</th>
                  <th>Active</th>
                  <th>Action</th>
                  <th>Used on</th>                  
                </tr>
              </thead>
              <tbody>             
        {% for server in servers %}
                     <tr>
                         <td>{{ server.name }}</td>
                         <td>{{ server.os }}</td>
                         <td>{{ server.ip }}</td>
                         <td>{% if server.active %} 
                             <span class="glyphicon glyphicon-ok-sign"></span>
                             {% else %} 
                             <span class="glyphicon glyphicon-off"></span>
                             {% endif %}
                         </td>
                         <td>
                             <button type="button" class="btn btn-default"/><span class="glyphicon glyphicon-info-sign  glyphicon-align-left"></span><a href="/server/view/{{ server.id }}"> View</a></button>
                             <button type="button" class="btn btn-default"/><span class="glyphicon glyphicon-edit glyphicon-align-left"></span><a href="/server/edit/{{ server.id }}"> Edit</a></button>
                             <button type="button" class="btn btn-default"/><span class="glyphicon glyphicon-minus-sign  glyphicon-align-left"></span><a href="/server/delete/{{ server.id }}"> Delete</a></button>
                         </td>
                         <td>
                             <ul>
                             {% for envdetails in server.getEnvDetails() if envdetails %}
                                     <li>{{ envdetails.environment.name }} - {{ envdetails.servercategory.name }}</li>
                             {% endfor %}
                             </ul>
                         </td>                         
                     </tr>
        {% endfor %}      
              </tbody>
       </table>
    </div><!-- end col-lg-8 -->
  </div><!-- end row -->
</div><!-- end container -->
{%  endblock body %}